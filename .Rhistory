files_full[id]
for (i in id) {
dat <- read.csv(files_full[i])
nobs <- length(dat$date)
datcomplete <-rbind(datcomplete,c(i,nobs))
}
colnames(datcomplete) <- c("id", "nobs")
print.data.frame(datcomplete)
}
complete("specdata",1:10)
complete <- function(directory, id = 1:332){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
datcomplete <- data.frame()
files_full[id]
for (i in id) {
dat <- read.csv(files_full[i])
nobs <- length(dat$sulfate)
datcomplete <-rbind(datcomplete,c(i,nobs))
}
colnames(datcomplete) <- c("id", "nobs")
print.data.frame(datcomplete)
}
complete("specdata",1:10)
complete <- function(directory, id = 1:332){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
datcomplete <- data.frame()
files_full[id]
for (i in id) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good]
nobs <- length(dat$sulfate)
datcomplete <-rbind(datcomplete,c(i,nobs))
}
colnames(datcomplete) <- c("id", "nobs")
print.data.frame(datcomplete)
}
complete("specdata",1:10)
complete <- function(directory, id = 1:332){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
datcomplete <- data.frame()
files_full[id]
for (i in id) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
datcomplete <-rbind(datcomplete,c(i,nobs))
}
colnames(datcomplete) <- c("id", "nobs")
print.data.frame(datcomplete)
}
complete("specdata",1:10)
?cor
complete <- function(directory, id = 1:332){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
datcomplete <- data.frame()
files_full[id]
for (i in id) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
datcomplete <-rbind(datcomplete,c(i,nobs))
}
colnames(datcomplete) <- c("id", "nobs")
print.data.frame(datcomplete)
}
complete("specdata", 1:332)
corr <- function(directory, threshold = 0)
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
datcomplete <- data.frame()
files_full[id]
for (i in 1:332) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
datcomplete <-rbind(datcomplete,c(i,nobs))
}
colnames(datcomplete) <- c("id", "nobs")
datcomplete(nobs>threshold)
print.data.frame(datacomplete)
}
corr <- function(directory, threshold = 0)
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
datcomplete <- data.frame()
for (i in 1:332) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
datcomplete <-rbind(datcomplete,c(i,nobs))
}
colnames(datcomplete) <- c("id", "nobs")
datcomplete(nobs>threshold)
print.data.frame(datacomplete)
}
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
datcomplete <- data.frame()
for (i in 1:332) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
datcomplete <-rbind(datcomplete,c(i,nobs))
}
colnames(datcomplete) <- c("id", "nobs")
datcomplete(nobs>threshold)
print.data.frame(datacomplete)
}
corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
datcomplete <- data.frame()
for (i in 1:332) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
datcomplete <-rbind(datcomplete,c(i,nobs))
}
colnames(datcomplete) <- c("id", "nobs")
datcomplete(nobs>threshold)
print.data.frame(datcomplete)
}
corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
datcomplete <- data.frame()
for (i in 1:332) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
datcomplete <-rbind(datcomplete,c(i,nobs))
}
colnames(datcomplete) <- c("id", "nobs")
datcomplete<-datcomplete(nobs>threshold)
print.data.frame(datcomplete)
}
corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1:332) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>treshold){
overthreshold <-rbind(overtreshold,c(i,nobs))}
}
colnames(overthreshold) <- c("id", "nobs")
print.data.frame(overthreshold)
}
corr("specdata", 150)
corr <- function(directory, treshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1:332) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>treshold){
overthreshold <-rbind(overtreshold,c(i,nobs))}
}
colnames(overthreshold) <- c("id", "nobs")
print.data.frame(overthreshold)
}
corr("specdata", 150)
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1:332) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
overthreshold <-rbind(overthreshold,c(i,nobs))}
}
colnames(overthreshold) <- c("id", "nobs")
print.data.frame(overthreshold)
}
corr("specdata", 150)
?corr
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1:332) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
overthreshold <-rbind(overthreshold,c(i,nobs))
cr<-cor(dat[,3],dat[,4])}
}
colnames(overthreshold) <- c("id", "nobs")
print.data.frame(overthreshold)
}
corr("specdata", 150)
warnings()
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
cc <- complete("specdata", c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
cc <- complete("specdata", 54)
print(cc$nobs)
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use, "nobs"])
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
overthreshold <-rbind(overthreshold,c(i,nobs))
cr<-cor(dat[,3],dat[,4])}
}
colnames(overthreshold) <- c("id", "nobs")
print.data.frame(overthreshold)
}
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
overthreshold <-rbind(overthreshold,c(i,nobs))
cr<-cor(dat[,3],dat[,4])}
}
colnames(overthreshold) <- c("id", "nobs")
print.data.frame(overthreshold)
}
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
overthreshold <-rbind(overthreshold,c(i,nobs))
cr<-cor(dat[,3],dat[,4])}
}
colnames(overthreshold) <- c("id", "nobs")
print.data.frame(overthreshold)
}
corr("specdata")
dat[,3]
dat[,4]
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
overthreshold <-rbind(overthreshold,c(i,nobs))
cr<-cor(dat[,2],dat[,3])}
}
colnames(overthreshold) <- c("id", "nobs")
print.data.frame(overthreshold)
}
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
overthreshold <-rbind(overthreshold,c(i,nobs))
cr<-cor(dat[,3],dat[,4])}
}
colnames(overthreshold) <- c("id", "nobs")
print.data.frame(overthreshold)
}
corr("specdata")
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
overthreshold <-rbind(overthreshold,c(i,nobs))
cr<-cor(dat[,2],dat[,3])}
}
colnames(overthreshold) <- c("id", "nobs")
print.data.frame(overthreshold)
}
corr("specdata")
cr
?print
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
overthreshold <-rbind(overthreshold,c(i,nobs))
cr<-cor(dat[,2],dat[,3])}
}
colnames(overthreshold) <- c("id", "nobs")
print.cr
}
corr("specdata")
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
overthreshold <-rbind(overthreshold,c(i,nobs))
cr<-cor(dat[,2],dat[,3])}
}
colnames(overthreshold) <- c("id", "nobs")
print(cr)
}
corr("specdata")
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1:332) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
overthreshold <-rbind(overthreshold,c(i,nobs))
cr<-cor(dat[,2],dat[,3])}
}
colnames(overthreshold) <- c("id", "nobs")
print(cr)
}
corr("specdata")
source(completeR)
source("completeR")
list.files
list.files()
source("completeR.R")
?source
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1:332) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
overthreshold <-rbind(overthreshold,c(i,nobs))
cr(i)<-cor(dat[,2],dat[,3])}
}
colnames(overthreshold) <- c("id", "nobs")
print(cr)
}
corr("specdata")
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1:332) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
overthreshold <-rbind(overthreshold,c(i,nobs))
cr<-c(i=cor(dat[,2],dat[,3]))}
}
colnames(overthreshold) <- c("id", "nobs")
print(cr)
}
corr("specdata")
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1:332) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
overthreshold <-rbind(overthreshold,c(i,nobs))
cr<-cbind(cor(dat[,2],dat[,3]))}
}
colnames(overthreshold) <- c("id", "nobs")
print(cr)
}
corr("specdata")
corr("specdata",150)
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
overthreshold <- data.frame()
for (i in 1:332) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
#overthreshold <-rbind(overthreshold,c(i,nobs))
cr<-cbind(cr,cor(dat[,2],dat[,3]))}
}
colnames(overthreshold) <- c("id", "nobs")
print(cr)
}
corr("specdata")
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
cr <-c()
overthreshold <- data.frame()
for (i in 1:332) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
#overthreshold <-rbind(overthreshold,c(i,nobs))
cr<-cbind(cr,cor(dat[,2],dat[,3]))}
}
colnames(overthreshold) <- c("id", "nobs")
print(cr)
}
corr("specdata")
corr <- function(directory, threshold = 0){
files_full <-list.files(directory, full.names=TRUE)
dat <- data.frame()
cr <-c()
overthreshold <- data.frame()
for (i in 1:332) {
dat <- read.csv(files_full[i])
good <-complete.cases(dat)
dat<-dat[good,]
nobs <- length(dat$sulfate)
if(nobs>threshold){
#overthreshold <-rbind(overthreshold,c(i,nobs))
cr<-cbind(cr,cor(dat[,2],dat[,3]))}
}
#colnames(overthreshold) <- c("id", "nobs")
print(cr)
}
corr("specdata")
cr <- corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata", 129)
cr <- sort(cr)
n <- length(cr)
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out)
cr <- corr("specdata", 2000)
n <- length(cr)
cr <- corr("specdata", 1000)
cr <- sort(cr)
print(c(n, round(cr, 4)))
